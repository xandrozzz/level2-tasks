Что выведет программа? Объяснить вывод программы.
Объяснить как работают defer’ы и порядок их вызовов.

    import (
    "fmt"
    )
    
    func test() (x int) {
        defer func() {
            x++
        }()
        x = 1
        return
    }
    
    
    func anotherTest() int {
        var x int
        defer func() {
            x++
        }()
        x = 1
        return x
    }
    
    
    func main() {
        fmt.Println(test())
        fmt.Println(anotherTest())
    }

Ответ:

Программа выведет

    2
    1

Во второй функции выведется 1, а не 2, потому что переменная x равна 0 в момент вызова defer,
а внутри функции замыкание.
Когда вызывается defer значение x внутри функции равно 0, и после переопределения x ниже,
значение в defer уже не меняется.

Функции, вызванные в defer, вызываются после срабатывания последней строчки кода функции,
внутри которой вызван defer. Если defer несколько, они вызываются в порядке LIFO относительно их создания.
